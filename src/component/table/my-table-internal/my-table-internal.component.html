<p-dataTable
  #dt
  [reorderableColumns]="true"
  [resizableColumns]="true"
  [value]="items"
  [emptyMessage]="emptyMessage"
  [rows]="20"
  [lazy]="lazy"
  [(first)]="first"
  [scrollable]="false"
  [virtualScroll]="false"
  scrollHeight="400px"
  [totalRecords]="totalRecords"
  [rowStyleClass]="rowStyleClass"
  (onRowClick)="edit.emit($event)"
  (onLazyLoad)="loadLazy.emit($event)"
  [responsive]="true">
  <p-header class="ui-helper-clearfix">
    <div class="col-xs-12 col-sm-6 col-md-3 m-b-xs">
      <p-multiSelect
        defaultLabel="Wybierz kolumny"
        [options]="columnOptions"
        [(ngModel)]="selectedColumns"
        [scrollHeight]="'1000px'"
        [optionLabel]="'header'"
        selectedItemsLabel="{0} wybranych elementÃ³w"></p-multiSelect>
    </div>
    <app-excel-btn *ngIf="!hideExport" (onExport)="dt.exportCSV()"></app-excel-btn>
  </p-header>
  <p-column
    [hidden]="col.hideOnMobile && isMobile"
    [sortable]="!col.notSortable"
    *ngFor="let col of selectedColumns"
    [field]="col.field"
    [header]="col.header"
    [styleClass]="col.styleClass"
    [filter]="!slim && lazy && col.filter !== false">


    <ng-template *ngIf="col.date" let-item="rowData" pTemplate type="body">
      {{item[col.field] | date:'dd-MM-yyyy HH:mm' }}
    </ng-template>

    <ng-template *ngIf="col.isEnabledLabel" let-item="rowData" pTemplate type="body">
      {{item[col.field] | yesNo }}
    </ng-template>

    <ng-template *ngIf="col.cellRenderer" let-item="rowData" pTemplate type="body">
      {{col.cellRenderer(item[col.field])}}
    </ng-template>

    <ng-template *ngIf="col.filterType === 'number'" pTemplate="filter" let-col>
      <i class="fa fa-close" (click)="numberFilter[col.field]=null;dt.filter(null,col.field,col.filterMatchMode)"></i>
      <p-slider [style]="{'width':'100%','margin-top':'8px'}"
                [(ngModel)]="numberFilter[col.field]"
                [min]="0"
                [max]="10000"
                (onChange)="onNumberChange($event, dt, col)"></p-slider>
    </ng-template>

  </p-column>
  <p-footer></p-footer>
</p-dataTable>
